<!DOCTYPE html>
<html>
<head>
    <title></title>
 <meta charset="utf-8" />
<script>
	var childwin;
	const childname = "popup";
	function openChild() {
		other = window.open('https://tgwsbx.dmp.wa.gov.au/tgw/PageRecevier.html','_blank', childname);
		childwin = window.open('https://tgwsbx.dmp.wa.gov.au/tgw/PageRecevier.html','_blank', childname);	  
		other.close();
	}
	function sendMessage(){
		
		let msg={pName : "Bob", pAge: "35"};
		// In production, DO NOT use '*', use toe target domain
		console.log(msg);
		childwin.postMessage(msg,'*')// childwin is the targetWindow
		childwin.focus();
	}
</script>
</head>
<body>
    <form>
        <fieldset>
            <input type='button' id='btnopen' value='Open child' onclick='openChild();' />
            <input type='button' id='btnSendMsg' value='Send Message' onclick='sendMessage();' />
        </fieldset>
    </form>
</body>
</html>